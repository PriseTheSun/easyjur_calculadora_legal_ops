<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora Legal Ops | Versão Visual Simplificada</title>
    <style>
      /* Paleta de cores fornecida: #E5293F (vermelho), #80929B (cinza-azulado), #FFF (branco), #000 (preto), #61CE70 (verde) */
      body {
        font-family: Arial, sans-serif;
        background-color: #fff;
        color: #000;
        margin: 0;
        padding: 20px;
        max-width: 800px;
        margin: 0 auto;
      }
      h1 {
        color: #e5293f;
        text-align: center;
      }
      .section {
        margin-bottom: 30px;
      }
      .input-group {
        margin-bottom: 15px;
      }
      label {
        display: block;
        margin-bottom: 5px;
        color: #80929b;
        font-weight: bold;
      }
      input[type="number"] {
        width: 100%;
        padding: 10px;
        border: 1px solid #80929b;
        border-radius: 5px;
        box-sizing: border-box;
      }
      button {
        background-color: #61ce70;
        color: #fff;
        border: none;
        padding: 15px;
        width: 100%;
        font-size: 16px;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 20px;
      }
      button:hover {
        background-color: #4caf50;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      th,
      td {
        padding: 10px;
        border: 1px solid #80929b;
        text-align: left;
      }
      th {
        background-color: #e5293f;
        color: #fff;
      }
      td {
        background-color: #fff;
      }
      #resultados {
        display: none;
      }
      .error {
        color: #e5293f;
        margin-top: 5px;
        display: none;
      }
    </style>
  </head>
  <body>
    <h1>Calculadora Legal Ops | Versão Visual Simplificada</h1>

    <div class="section">
      <h2>1. Entradas</h2>
      <div class="input-group">
        <label for="salario">Salário médio do advogado interno (R$)</label>
        <input type="number" id="salario" min="0" step="0.01" required />
        <div class="error" id="error-salario">
          Valor deve ser maior que zero.
        </div>
      </div>
      <div class="input-group">
        <label for="num-advogados"
          >Número de advogados contratados para demandas operacionais</label
        >
        <input type="number" id="num-advogados" min="1" step="1" required />
        <div class="error" id="error-num-advogados">
          Valor deve ser pelo menos 1.
        </div>
      </div>
      <div class="input-group">
        <label for="horas-medias"
          >Horas operacionais médias por advogado (opcional, padrão:
          60h/mês)</label
        >
        <input
          type="number"
          id="horas-medias"
          min="0"
          step="0.01"
          placeholder="60"
        />
        <div class="error" id="error-horas-medias">
          Valor deve ser maior que zero.
        </div>
      </div>
    </div>

    <button id="simular">Simular agora</button>

    <div id="resultados" class="section">
      <h2>3. Saída</h2>
      <table>
        <thead>
          <tr>
            <th>Indicador</th>
            <th>Resultado</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Custo atual do time interno (com encargos)</td>
            <td id="custo-interno"></td>
          </tr>
          <tr>
            <td>Custo médio com Legal Ops</td>
            <td id="custo-terceirizado"></td>
          </tr>
          <tr>
            <td>Economia potencial</td>
            <td id="economia"></td>
          </tr>
          <tr>
            <td>ROI da terceirização</td>
            <td id="roi"></td>
          </tr>
          <tr>
            <td>Ganho em horas de advogados internos</td>
            <td id="horas-liberadas"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <script>
      document.getElementById("simular").addEventListener("click", function () {
        // Pegar valores das entradas
        const salario = parseFloat(document.getElementById("salario").value);
        const numAdvogados = parseInt(
          document.getElementById("num-advogados").value
        );
        let horasMedias =
          parseFloat(document.getElementById("horas-medias").value) || 60;

        // Validações
        let valid = true;
        document
          .querySelectorAll(".error")
          .forEach((el) => (el.style.display = "none"));

        if (isNaN(salario) || salario <= 0) {
          document.getElementById("error-salario").style.display = "block";
          valid = false;
        }
        if (isNaN(numAdvogados) || numAdvogados < 1) {
          document.getElementById("error-num-advogados").style.display =
            "block";
          valid = false;
        }
        if (isNaN(horasMedias) || horasMedias <= 0) {
          document.getElementById("error-horas-medias").style.display = "block";
          valid = false;
        }

        if (!valid) return;

        // Cálculos
        const custoRealMensal = salario * 1.7;
        const custoHora = custoRealMensal / 160;
        const custoInterno = numAdvogados * horasMedias * custoHora;

        const numDemandas = numAdvogados * horasMedias; // Assumindo 1 demanda por hora
        const custoTerceirizado = numDemandas * 150;

        const economia = custoInterno - custoTerceirizado;
        let roi = (economia / custoTerceirizado) * 100;
        if (isNaN(roi) || custoTerceirizado === 0) {
          roi = "N/A";
        } else {
          roi = roi.toFixed(2) + "%";
        }

        const horasLiberadas = numAdvogados * horasMedias;

        // Exibir resultados
        document.getElementById("custo-interno").textContent =
          "R$ " + custoInterno.toFixed(2) + "/mês";
        document.getElementById("custo-terceirizado").textContent =
          "R$ " + custoTerceirizado.toFixed(2) + "/mês";
        document.getElementById("economia").textContent =
          "R$ " + economia.toFixed(2) + "/mês";
        document.getElementById("roi").textContent = roi;
        document.getElementById("horas-liberadas").textContent =
          horasLiberadas.toFixed(2) + "h/mês liberadas";

        document.getElementById("resultados").style.display = "block";
      });
    </script>
  </body>
</html>
